####################################################
# Specify that the YP server is at the LogCommanderInChief
# However, only add this -D arg if we are not doing
# hierarchical YP (avoid thrashing)

# First, find the Log HEAD
ypAg = nil
society.each_agent do |agent|
   if agent.get_facet(:role) == "LogisticsCommanderInChief"
      ypAg = agent.name.to_s
      break
   end
end

# Now add the ypAg arg if this particular HierYP-related Arg is not there
multypparam="-Dorg.cougaar.servicediscovery.service.tModelCacheDisabled"
society.each_node do |node|
   multyp = false
   node.each_parameter do |param|
     multyp = true if param[0..(multypparam.size)]=="#{multypparam}="
     break if multyp
   end

   unless multyp
     node.override_parameter("-Dorg.cougaar.yp.ypAgent",ypAg)
   end
end

