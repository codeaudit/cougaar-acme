####################################################
# Rule to insert OplanReader
#   at every agent
#
# 1AD: plugin = org.cougaar.mlm.plugin.ldm.OplanReaderPlugin
# Replaces GetOplanPlugin

oplan_reader_plugin = "org.cougaar.mlm.plugin.ldm.OplanReaderPlugin"

society.each_agent do |agent|
  agent.add_component do |c|
    c.classname = oplan_reader_plugin
    # UA agents need different .q file to get
    # different OrgActivityQueryHandler
    if agent.get_facet(:is_ua)
      c.add_argument("ua.oplan.q")
    end
  end
end
