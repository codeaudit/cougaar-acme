####################################################
# Rule to insert plugins to perform FSB Fuel Transportation
# insert the plugins if: Role == FuelSupplyProvider and
# mechanism == TruckScheduler.
# plugin = org.cougaar.lib.plugin.UTILLdmXMLPlugin
# plugin = com.bbn.fcss.SimpleExpanderPlugin
# plugin = com.bbn.fcss.FSBFuelTransportPlugin

util_ldm_xml_plugin = "org.cougaar.lib.plugin.UTILLdmXMLPlugin"
simple_expander_plugin = "com.bbn.fcss.SimpleExpanderPlugin"
fsb_fuel_transport_plugin = "com.bbn.fcss.FSBFuelTransportPlugin"

# Iterate over agents.
society.each_agent do |agent|
  if agent.get_facet(:is_ua)
    if agent.has_facet? { |facet| facet[:role]=='FuelSupplyProvider' && (facet[:mechanism] == 'TruckScheduler') }
      agent.add_component do |c|
	c.classname = util_ldm_xml_plugin
      end    
      agent.add_component do |c|
	c.classname = simple_expander_plugin
      end    
      agent.add_component do |c|
	c.classname = fsb_fuel_transport_plugin
      end    
    end
  end
end

