####################################################
# Rule to insert GLSGUIInitServlet and GLSRescindPlugin
# plugin = org.cougaar.mlm.plugin.organization.GLSGUIInitPlugin
# plugin = org.cougaar.mlm.plugin.organization.GLSRescindPlugin
# plugin = org.cougaar.mlm.plugin.ldm.OPlanPlugin(oplan.xml)

gls_gui_init_plugin = "org.cougaar.mlm.plugin.organization.GLSGUIInitPlugin"
gls_rescind_plugin = "org.cougaar.mlm.plugin.organization.GLSRescindPlugin"
oplan_plugin = "org.cougaar.mlm.plugin.ldm.OPlanPlugin"

society.each_agent do |agent|
  agent.each_facet(:role) do |facet|
    if facet[:role] == 'LogisticsCommanderInChief'
      agent.add_component do |c|
        c.classname = gls_gui_init_plugin
      end
      agent.add_component do |c|
        c.classname = gls_rescind_plugin
      end
      agent.add_component do |c|
        c.classname = oplan_plugin
        c.add_argument("oplan.xml")
      end
    end
  end
end
