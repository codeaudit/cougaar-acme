####################################################
# Rule to insert LDMSQLPlugin
# This Plugin gets equipment from an ldm.xml file
# 1AD: plugin = org.cougaar.mlm.plugin.ldm.LDMXMLLComponentPlugin('org_id'.ldm.xml)

ldm_sql_plugin = "org.cougaar.mlm.plugin.ldm.LDMXMLComponentPlugin"

society.each_agent do |agent|
  # This assumes that UA Vehicle agents will have these facets
  if agent.get_facet(:has_physical_assets)
    org_id = agent.get_facet(:org_id).to_s
    agent.add_component do |c|
      c.classname = ldm_sql_plugin
      c.add_argument("#{org_id}.ldm.xml")
    end
  end
end
  
