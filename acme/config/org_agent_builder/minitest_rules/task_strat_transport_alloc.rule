####################################################
# Rule to insert TaskStrategicTransportAllocatorPlugin
# plugin = org.cougaar.mlm.plugin.strategictransport.TaskStrategicTransportAllocatorPlugin

task_strategic_transport_alloc_plugin = "org.cougaar.mlm.plugin.strategictransport.TaskStrategicTransportAllocatorPlugin"

society.each_agent do |agent|
  if (agent.get_facet(:is_deployable) && agent.get_facet(:has_physical_assets)) || agent.has_facet? { |facet| facet[:role]=='StrategicTransportationProvider' && (facet[:mechanism] == 'PassThrough') }
    agent.add_component do |c|
      c.classname = task_strategic_transport_alloc_plugin
    end
  end
end
